<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>rock paper scissors</title>
</head>
<body>
    <button id="btn" class="rock">rock</button>
    <button id="btn" class="paper">paper</button>
    <button id="btn" class="scissors">scissors</button>

    <div class="status">
        <div class="result"></div>
        <div class="playerResult"></div>
    </div> 

    <script>

        const buttons = document.querySelectorAll('#btn');
        buttons.forEach((button) => {
            button.addEventListener('click', function(e) {
                playRound(e.target.className);
            });
        });

        function randomIntFromInterval(min, max) { // min and max included 
            return Math.floor(Math.random() * (max - min + 1) + min)
        }

        let playerScore = 0;
        let computerScore = 0;

        function playRound(answer) {

            const result = document.querySelector('.result');
            const playerResult = document.querySelector('.playerResult');

            // 0 = rock, 1 = paper, 2 = scissors
            const rndInt = randomIntFromInterval(0, 2)

            if (answer == "rock") {
                if (rndInt == 0) {
                    result.textContent = "draw, rock"
                } else if (rndInt == 1) {
                    result.textContent = "you lose, paper"
                    computerScore += 1
                } else if (rndInt == 2) {
                    result.textContent = "you win, scissors"
                    playerScore += 1
                }
            } else if (answer == "paper") {
                if (rndInt == 0) {
                    result.textContent = "you win, rock"
                    playerScore += 1
                } else if (rndInt == 1) {
                    result.textContent = "draw, paper"
                } else if (rndInt == 2) {
                    result.textContent = "you lose, scissors"
                    computerScore += 1
                }
            } else if (answer == "scissors") {
                if (rndInt == 0) {
                    result.textContent = "you lose, rock"
                    computerScore += 1
                } else if (rndInt == 1) {
                    result.textContent = "you win, paper"
                    playerScore += 1
                } else if (rndInt == 2) {
                    result.textContent = "draw, scissors"
                }
            }

            playerResult.textContent = playerScore.toString() + "-" + computerScore.toString()

            if (playerScore >= 5) {
                playerScore = 0;
                computerScore = 0;
                playerResult.textContent = "YOU ARE THE WINNER!"
            } else if (computerScore >= 5) {
                playerResult.textContent = "YOU ARE THE LOSER!"
                playerScore = 0;
                computerScore = 0;
            }

        }

    </script>
</body>
</html>